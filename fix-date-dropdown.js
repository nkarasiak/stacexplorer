/**\n * Enhanced Date Dropdown Fix\n * Ensures date options work correctly in the TIME dropdown\n */\n\n// Wait for app to load, then apply fix\nfunction applyDateDropdownFix() {\n    if (!window.stacExplorer?.inlineDropdownManager) {\n        setTimeout(applyDateDropdownFix, 500);\n        return;\n    }\n    \n    console.log('\ud83d\udcc5 Applying date dropdown fix...');\n    \n    const inlineManager = window.stacExplorer.inlineDropdownManager;\n    const originalCreateDateDropdown = inlineManager.aiSearchHelper.createDateDropdown;\n    \n    // Override the createDateDropdown method to ensure proper attributes\n    inlineManager.aiSearchHelper.createDateDropdown = function() {\n        console.log('\ud83d\udcc5 Creating enhanced date dropdown...');\n        \n        const container = document.createElement('div');\n        container.className = 'ai-dropdown-content';\n        \n        container.innerHTML = `\n            <div class=\"ai-dropdown-header\">\n                <i class=\"material-icons\">event</i>\n                <span>Select Time Period</span>\n            </div>\n            \n            <div class=\"ai-options-section\">\n                <div class=\"ai-option\" data-value=\"anytime\">\n                    <i class=\"material-icons\">all_inclusive</i>\n                    <div class=\"ai-option-content\">\n                        <div class=\"ai-option-title\">Anytime</div>\n                        <div class=\"ai-option-subtitle\">No date filter</div>\n                    </div>\n                </div>\n                \n                <div class=\"ai-option\" data-value=\"thismonth\">\n                    <i class=\"material-icons\">calendar_month</i>\n                    <div class=\"ai-option-content\">\n                        <div class=\"ai-option-title\">This Month</div>\n                        <div class=\"ai-option-subtitle\">Current month</div>\n                    </div>\n                </div>\n                \n                <div class=\"ai-option\" id=\"custom-date\">\n                    <i class=\"material-icons\">date_range</i>\n                    <div class=\"ai-option-content\">\n                        <div class=\"ai-option-title\">Custom Range</div>\n                        <div class=\"ai-option-subtitle\">Pick specific dates</div>\n                    </div>\n                </div>\n            </div>\n            \n            <div class=\"ai-custom-section\" id=\"custom-date-section\" style=\"display: none;\">\n                <div class=\"ai-date-inputs\">\n                    <div class=\"ai-date-group\">\n                        <label>From</label>\n                        <input type=\"date\" id=\"date-start\" class=\"ai-date-input\">\n                    </div>\n                    <div class=\"ai-date-group\">\n                        <label>To</label>\n                        <input type=\"date\" id=\"date-end\" class=\"ai-date-input\">\n                    </div>\n                </div>\n                <button class=\"ai-apply-btn\" id=\"apply-date-range\">\n                    <i class=\"material-icons\">check</i> Apply\n                </button>\n            </div>\n        `;\n        \n        console.log('\u2705 Enhanced date dropdown created with proper data attributes');\n        return container;\n    };\n    \n    // Also ensure the date selection method is properly bound\n    const originalHandleDateSelection = inlineManager.handleDateSelection;\n    inlineManager.handleDateSelection = function(dateType) {\n        console.log(`\ud83d\udcc5 Enhanced date selection handler: ${dateType}`);\n        return originalHandleDateSelection.call(this, dateType);\n    };\n    \n    console.log('\u2705 Date dropdown fix applied successfully');\n    console.log('\ud83d\udcc5 TIME dropdown should now work correctly for:');\n    console.log('  - Anytime (clears date filter)');\n    console.log('  - This Month (sets current month range)');\n    console.log('  - Custom Range (opens date pickers)');\n}\n\n// Apply the fix when DOM is ready\nif (document.readyState === 'loading') {\n    document.addEventListener('DOMContentLoaded', () => {\n        setTimeout(applyDateDropdownFix, 1000);\n    });\n} else {\n    setTimeout(applyDateDropdownFix, 1000);\n}\n\nconsole.log('\ud83d\udcc5 Enhanced date dropdown fix script loaded');\nconsole.log('\ud83d\ude80 This will ensure TIME dropdown works correctly');\n